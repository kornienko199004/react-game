(this["webpackJsonpreact-game-master"]=this["webpackJsonpreact-game-master"]||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},122:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var s,i=a(0),c=a.n(i),n=a(11),r=a.n(n),o=(a(111),a(112),a(7)),l=a(42),d=a(43),u=a(70),j=a(69),m=(a(113),a.p+"static/media/rsschool.995196dd.svg"),h=a(13),b=a(56),p=a(44),O=a.n(p);!function(e){e.card1="card1",e.card2="card2",e.card3="card3",e.card4="card4",e.card5="card5",e.card6="card6",e.card7="card7",e.card8="card8",e.card9="card9",e.card10="card10",e.card11="card11",e.card12="card12"}(s||(s={}));var g,f=[{button:"New Game",path:"/game"},{button:"Autoplay",path:"/autoplay"},{button:"Settings",path:"/settings"},{button:"Statistics",path:"statistics"},{button:"Top List",path:"top"}],v=[s.card1,s.card2,s.card3,s.card4,s.card5,s.card6,s.card7,s.card8,s.card9,s.card10,s.card11,s.card12],x=function(e){for(var t=e.width*e.height,a=function(e){for(var t=[].concat(v),a=[],s=0;s<e;s+=1){var i=Math.floor(Math.random()*t.length);a=[].concat(Object(b.a)(a),[{image:t.splice(i,1)[0],isFlipped:!0,id:"",found:!1}])}return a}(t/2),s=[].concat(Object(b.a)(a),Object(b.a)(a)),i=[],c=0;c<t;c+=1){var n=Math.floor(Math.random()*s.length);i=[].concat(Object(b.a)(i),[s.splice(n,1)[0]])}return i=i.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{id:O()()})}))},S=function(e){return String(e).length>1?e:"0".concat(e)},y=function(e){var t=e%60;return"".concat(S((e-t)/60)," : ").concat(S(t))},_=a(18),N=(a(122),a.p+"static/media/1.780fbbe5.png"),k=a.p+"static/media/2.083423e9.png",w=a.p+"static/media/3.7d0852cb.png",T=a.p+"static/media/4.1c969403.png",C=a.p+"static/media/5.43b6339b.png",M=a.p+"static/media/6.067a780e.png",F=a.p+"static/media/7.841f30d3.png",P=a.p+"static/media/8.3363944a.png",I=a.p+"static/media/9.8c30acfe.png",A=a.p+"static/media/10.e9117e8e.png",H=a.p+"static/media/11.f1e1602a.png",D=a.p+"static/media/12.5ad43028.png",E=a(2),G=(g={},Object(_.a)(g,s.card1,N),Object(_.a)(g,s.card2,k),Object(_.a)(g,s.card3,w),Object(_.a)(g,s.card4,T),Object(_.a)(g,s.card5,C),Object(_.a)(g,s.card6,M),Object(_.a)(g,s.card7,F),Object(_.a)(g,s.card8,P),Object(_.a)(g,s.card9,I),Object(_.a)(g,s.card10,A),Object(_.a)(g,s.card11,H),Object(_.a)(g,s.card12,D),g);function R(e){var t=e.cardClick,a=e.isFlipped,s=e.imgName,i=e.found,c=e.animationOn;return Object(E.jsx)("div",{className:"card-wrapper ".concat(i&&c?"card-wrapper_hide":"").concat(i&&!c?"card-wrapper_display_none":""),onClick:function(){!i&&t()},children:Object(E.jsxs)("div",{className:"card"+(a?" flipped":""),children:[Object(E.jsx)("div",{className:"card__back"}),Object(E.jsx)("div",{className:"card__front",children:Object(E.jsx)("img",{src:G[s],className:"card__image",alt:"card__image"})})]})})}var z=a(24),W=a(181),Y=a(202),V=a(180),J=a(178),K=a(179),L=a(177),U=a(171),B=c.a.forwardRef((function(e,t){return Object(E.jsx)(U.a,Object(o.a)({direction:"down",ref:t},e))}));function q(e){var t=c.a.useState(!0),a=Object(z.a)(t,2),s=a[0],i=a[1],n=Object(h.f)();return Object(E.jsx)("div",{children:Object(E.jsxs)(Y.a,{open:s,TransitionComponent:B,keepMounted:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(E.jsx)(L.a,{id:"alert-dialog-slide-title",children:"You win!!!"}),Object(E.jsx)(J.a,{children:Object(E.jsxs)(K.a,{id:"alert-dialog-slide-description",children:["You have made ",Object(E.jsx)("strong",{children:e.attempts})," and spend ",Object(E.jsx)("strong",{children:e.time})," seconds."]})}),Object(E.jsx)(V.a,{children:Object(E.jsx)(W.a,{onClick:function(){i(!1),n.push("/")},color:"primary",children:"OK"})})]})})}a(131);var Q=a.p+"static/media/card_flip.47a5e52c.mp3",X=a.p+"static/media/cards_found.04617d20.mp3",Z=a(182),$=a(183),ee=a(184),te=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var s;Object(l.a)(this,a),(s=t.call(this,e)).state=void 0,s.storageService=void 0,s.flipSound=void 0,s.foundSound=void 0,s.timer=void 0,s.animationCheck=function(e){var t=s.state,a=t.firstCard,i=t.secondCard;return!(!a||!i||a.image!==i.image||a.image!==e.image)},s.pauseHandler=function(){s.setState({startTime:!1});var e={cards:s.state.cards,time:s.state.time,attempts:s.state.attempts,settings:s.props.settings};s.props.paused(e)},s.fullScreenToggle=function(){s.setState({fullScreen:!s.state.fullScreen})};var i=e.settings,c=e.cards,n=e.attempts,r=e.time,o=e.firstCard,d=e.secondCard,u=e.isResumed,j=e.storageService;s.storageService=j;var m=u;if(0===c.length){var h=s.storageService.loadGame();h?(i=h.settings,c=h.cards,n=h.attempts,r=h.time,m=h.startTime||!1):s.props.history.push("/")}var b=i,p=b.width*b.height;return s.state={size:p,cards:c,firstCard:o,secondCard:d,isResumed:u,startTime:m,attempts:n,time:r,haveWin:!1,fullScreen:!1},s.flipSound=new Audio(Q),s.flipSound.volume=i.soundsVolume,s.foundSound=new Audio(X),s.foundSound.volume=i.soundsVolume,s}return Object(d.a)(a,[{key:"changeFlipped",value:function(e){var t=this,a=this.state.cards.findIndex((function(t){return t.id===e}));if(!this.state.cards[a].isFlipped){this.props.soundsOn&&(this.flipSound.volume=this.storageService.settings.soundsVolume,this.flipSound.play());var s=Object(o.a)(Object(o.a)({},this.state.cards[a]),{},{isFlipped:!this.state.cards[a].isFlipped}),i=this.state.cards.slice();i.splice(a,1,s),this.setState((function(e){var a=Object(o.a)(Object(o.a)({},e),{},{cards:i});if(!e.firstCard&&s.isFlipped)return Object(o.a)(Object(o.a)({},a),{},{firstCard:s});if(!e.secondCard&&s.isFlipped){var c=!1;return e.firstCard&&e.firstCard.image===s.image&&(t.props.soundsOn&&(t.flipSound.volume=t.storageService.settings.soundsVolume,t.foundSound.play()),c=!0),i=i.map((function(t){return t.id===e.firstCard.id||t.id===s.id?Object(o.a)(Object(o.a)({},t),{},{found:c}):t})),Object(o.a)(Object(o.a)({},e),{},{cards:i,secondCard:Object(o.a)(Object(o.a)({},s),{},{found:c}),firstCard:Object(o.a)(Object(o.a)({},e.firstCard),{},{found:c})})}return e.firstCard&&e.secondCard?(i=i.map((function(t){return t.id===e.firstCard.id||t.id===e.secondCard.id?Object(o.a)(Object(o.a)({},t),{},{isFlipped:!1}):t})),Object(o.a)(Object(o.a)({},e),{},{cards:i,firstCard:s,secondCard:null})):Object(o.a)({},e)}),(function(){t.setState({attempts:t.state.attempts+1},(function(){var e=t.checkWin();e?(t.setState({haveWin:e}),t.props.autoPlay||t.onWinHandler()):t.saveGame()}))}))}}},{key:"getFieldSize",value:function(){var e=this.state.size;return 24===e?"large":18===e?"medium":"small"}},{key:"autoPlaying",value:function(){var e=this,t=this.state.cards.filter((function(e){return!e.found&&!e.isFlipped}));if(t.length>0){var a=t[Math.floor(Math.random()*t.length)];this.changeFlipped(a.id),setTimeout((function(){e.autoPlaying()}),1e3)}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.settings.delay;this.timer=setTimeout((function(){var t=e.state.cards.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{isFlipped:!1})}));e.setState({cards:t,startTime:!0},(function(){e.props.autoPlay&&setTimeout((function(){e.autoPlaying()}),1e3)}))}),1e3*t),this.tick()}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"tick",value:function(){var e=this;setTimeout((function(){e.state.startTime&&!e.state.haveWin&&e.setState({time:e.state.time+1}),e.tick()}),1e3)}},{key:"saveGame",value:function(){var e={cards:this.state.cards,time:this.state.time,attempts:this.state.attempts,settings:this.props.settings,startTime:this.state.startTime};this.storageService.saveGame(e)}},{key:"checkWin",value:function(){return 0===this.state.cards.filter((function(e){return!e.found})).length}},{key:"getFieldSizeString",value:function(){var e=this.props.settings;return"".concat(e.width,"x").concat(e.height)}},{key:"getScore",value:function(){var e=this.props.settings,t=this.state,a=t.time,s=t.attempts,i=Math.pow(e.width*e.height*e.delay,2)/Math.sqrt(a*s);return Number(i.toFixed(0))}},{key:"onWinHandler",value:function(){var e={time:this.state.time,attempts:this.state.attempts,score:this.getScore(),fieldSize:this.getFieldSizeString()};this.storageService.onWin(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.cards,s=t.fullScreen,i=this.props.autoPlay;return Object(E.jsxs)("div",{className:"game ".concat(s?"game_fullscreen":""),children:[Object(E.jsxs)("div",{className:"statistics",children:[Object(E.jsx)("div",{className:"statistics__inner",children:Object(E.jsx)(W.a,{variant:"contained",className:"pause-button",onClick:this.pauseHandler,children:i?"Stop":"Pause"})}),Object(E.jsxs)("div",{className:"statistics__inner",children:[Object(E.jsxs)("div",{className:"score-wrapper",children:[Object(E.jsx)("p",{className:"score-wrapper__caption",children:"Attempts:"}),Object(E.jsx)("p",{className:"score-wrapper__score",children:this.state.attempts})]}),Object(E.jsxs)("div",{className:"time-wrapper",children:[Object(E.jsx)("p",{className:"time-wrapper__caption",children:"Time:"})," ",Object(E.jsx)("p",{className:"time-wrapper__time",children:y(this.state.time)})]})]}),Object(E.jsx)("div",{className:"statistics__inner",children:Object(E.jsx)(Z.a,{color:"primary",onClick:this.fullScreenToggle,component:"span",children:s?Object(E.jsx)($.a,{}):Object(E.jsx)(ee.a,{})})})]}),Object(E.jsxs)("div",{className:"game-field game-field_".concat(this.getFieldSize()),children:[i&&Object(E.jsx)("div",{className:"game__overlay"}),a.map((function(t){return Object(E.jsx)("div",{className:"game-field__item",children:Object(E.jsx)(R,{cardClick:function(){return e.changeFlipped(t.id)},isFlipped:t.isFlipped,imgName:t.image,found:t.found,animationOn:e.animationCheck(t)})},t.id)}))]}),this.state.haveWin&&Object(E.jsx)(q,{time:this.state.time,attempts:this.state.attempts})]})}}]),a}(c.a.Component),ae=Object(h.g)(te);function se(e){var t=e.storageService,a=t.settings,s={cards:x(a),firstCard:null,secondCard:null,settings:a,time:0,attempts:0,isPaused:!1,isResumed:!1,soundsOn:!1,autoPlay:!0},i=Object(h.f)();return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(ae,Object(o.a)({},Object(o.a)(Object(o.a)({},s),{},{paused:function(){i.push("/")},storageService:t})))})}var ie=a(5),ce=a(205),ne=a(89),re=a(185),oe=a(186),le=a(206),de=a(208),ue=a(200),je=(a(132),Object(ie.a)((function(e){return Object(ce.a)({root:{"label + &":{marginTop:e.spacing(3)}},input:{borderRadius:4,position:"relative",backgroundColor:e.palette.background.paper,border:"1px solid #ced4da",fontSize:16,padding:"10px 26px 10px 12px",transition:e.transitions.create(["border-color","box-shadow"]),fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),"&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}})}))(ne.a)),me=["6x2","6x3","6x4"],he=["2","3","4","5"],be=["dark","light"],pe=["low","medium","high"],Oe=function(){return pe.map((function(e){return Object(E.jsx)(re.a,{value:e,children:e},e)}))},ge={low:.2,medium:.5,high:1},fe={.2:"low",.5:"medium",1:"high"};function ve(e){var t=e.storageService,a=e.updateSettings,s=t.settings,i="".concat(s.width,"x").concat(s.height),n=c.a.useState(s.playerName),r=Object(z.a)(n,2),l=r[0],d=r[1],u=c.a.useState(i),j=Object(z.a)(u,2),m=j[0],b=j[1],p=c.a.useState(s.delay),O=Object(z.a)(p,2),g=O[0],f=O[1],v=c.a.useState(s.theme),x=Object(z.a)(v,2),S=x[0],y=x[1],_=c.a.useState(fe[s.soundsVolume]),N=Object(z.a)(_,2),k=N[0],w=N[1],T=c.a.useState(fe[s.musicVolume]),C=Object(z.a)(T,2),M=C[0],F=C[1],P=Object(h.f)(),I=function(e){switch(e.target.name){case"userName":d(e.target.value);break;case"fieldSize":b(e.target.value);break;case"showTime":f(e.target.value);break;case"theme":y(e.target.value);break;case"sounds":w(e.target.value);break;case"music":F(e.target.value);break;default:return}};return Object(E.jsxs)("div",{className:"settings",children:[Object(E.jsx)("h2",{className:"settings__title",children:"Settings"}),Object(E.jsx)("p",{className:"settings__caption",children:"Input User Name"}),Object(E.jsx)(oe.a,{className:"settings__form-control",children:Object(E.jsx)(le.a,{id:"outlined-basic",label:"User Name",variant:"outlined",value:l,onChange:I,name:"userName"})}),Object(E.jsx)("p",{className:"settings__caption",children:"Choose the field size"}),Object(E.jsxs)(oe.a,{className:"settings__form-control",children:[Object(E.jsx)(de.a,{id:"demo-simple-select-label",children:"Field"}),Object(E.jsx)(ue.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:m,onChange:I,name:"fieldSize",input:Object(E.jsx)(je,{}),children:me.map((function(e){return Object(E.jsx)(re.a,{value:e,children:e},e)}))})]}),Object(E.jsx)("p",{className:"settings__caption",children:"Choose time (sec) of the cards' being opened in the beginning"}),Object(E.jsxs)(oe.a,{className:"settings__form-control",children:[Object(E.jsx)(de.a,{id:"demo-simple-select-label",children:"Time"}),Object(E.jsx)(ue.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,onChange:I,name:"showTime",input:Object(E.jsx)(je,{}),children:he.map((function(e){return Object(E.jsx)(re.a,{value:e,children:e},e)}))})]}),Object(E.jsx)("p",{className:"settings__caption",children:"Choose the theme"}),Object(E.jsxs)(oe.a,{className:"settings__form-control",children:[Object(E.jsx)(de.a,{id:"demo-simple-select-label",children:"Theme"}),Object(E.jsx)(ue.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:S,onChange:I,name:"theme",input:Object(E.jsx)(je,{}),children:be.map((function(e){return Object(E.jsx)(re.a,{value:e,children:e},e)}))})]}),Object(E.jsx)("p",{className:"settings__caption",children:"Choose music volume"}),Object(E.jsxs)(oe.a,{className:"settings__form-control",children:[Object(E.jsx)(de.a,{children:"Music volume"}),Object(E.jsx)(ue.a,{value:M,onChange:I,name:"music",input:Object(E.jsx)(je,{}),children:Oe()})]}),Object(E.jsx)("p",{className:"settings__caption",children:"Choose sounds volume"}),Object(E.jsxs)(oe.a,{className:"settings__form-control",children:[Object(E.jsx)(de.a,{id:"demo-simple-select-label",children:"Sounds volume"}),Object(E.jsx)(ue.a,{value:k,onChange:I,name:"sounds",input:Object(E.jsx)(je,{}),children:Oe()})]}),Object(E.jsx)("div",{className:"settings__controls",children:Object(E.jsx)(W.a,{variant:"contained",color:"primary",onClick:function(){var e=m.split("x").map((function(e){return Number(e)})),t=Object(z.a)(e,2),i=t[0],c=t[1],n=Object(o.a)(Object(o.a)({},s),{},{playerName:l,width:i,height:c,delay:g,theme:S,soundsVolume:ge[k],musicVolume:ge[M]});a(n),P.push("/")},children:"Save"})})]})}var xe=a(191),Se=a(193),ye=a(197),_e=a(196),Ne=a(192),ke=a(194),we=a(195),Te=a(173),Ce=a(67),Me=a.n(Ce),Fe=Object(xe.a)({table:{minWidth:375}});function Pe(e){var t=Fe(),a=(e.storageService.getStatisticsData()||[]).slice().sort((function(e,t){return t.score-e.score})).slice(0,10);return Object(E.jsxs)("div",{className:"statistics-wrapper",children:[Object(E.jsx)("h1",{children:"Statistics"}),Object(E.jsx)(Ne.a,{component:Te.a,children:Object(E.jsxs)(Se.a,{className:t.table,"aria-label":"simple table",children:[Object(E.jsx)(ke.a,{children:Object(E.jsxs)(we.a,{children:[Object(E.jsx)(_e.a,{children:"\u2116"}),Object(E.jsx)(_e.a,{align:"center",children:"Player\xa0Name"}),Object(E.jsx)(_e.a,{align:"center",children:"Score"}),Object(E.jsx)(_e.a,{align:"center",children:"Field\xa0Size"}),Object(E.jsx)(_e.a,{align:"center",children:"Attempts"}),Object(E.jsx)(_e.a,{align:"center",children:"Time\xa0(sec)"}),Object(E.jsx)(_e.a,{align:"center",children:"Date"})]})}),Object(E.jsx)(ye.a,{children:a.map((function(e,t){return Object(E.jsxs)(we.a,{children:[Object(E.jsx)(_e.a,{component:"th",scope:"row",align:"left",children:Object(E.jsx)("b",{children:t+1})}),Object(E.jsx)(_e.a,{align:"center",children:e.playerName}),Object(E.jsx)(_e.a,{align:"center",children:e.score}),Object(E.jsx)(_e.a,{align:"center",children:e.fieldSize}),Object(E.jsx)(_e.a,{align:"center",children:e.attempts}),Object(E.jsx)(_e.a,{align:"center",children:e.time}),Object(E.jsx)(_e.a,{align:"center",children:Me()(e.createAt).format("MMMM Do YYYY, HH:mm:ss")})]},O()())}))})]})})]})}function Ie(e){return Object(E.jsx)("div",{className:"footer",children:Object(E.jsxs)("div",{className:"footer__inner",children:[Object(E.jsxs)("p",{className:"feedback",children:["Made by ",Object(E.jsx)("a",{href:"https://github.com/kornienko199004",rel:"noreferrer",target:"_blank",children:"kornienko199004"})," for"]}),Object(E.jsx)("div",{className:"rsschool-logo",children:Object(E.jsx)("a",{href:"https://rs.school/js/",rel:"noreferrer",target:"_blank",children:Object(E.jsx)("img",{src:e.logo,alt:"rsschool"})})})]})})}function Ae(e){return Object(E.jsx)("div",{className:"header",children:Object(E.jsxs)("div",{className:"header__inner",children:[Object(E.jsxs)("div",{className:"logo",children:[Object(E.jsx)("p",{className:"logo__title",children:"Memory Game"}),Object(E.jsx)("p",{className:"logo__description",children:"train your memory"})]}),e.children]})})}var He=a(36),De=a.n(He),Ee=a(55),Ge={width:6,height:4,delay:5,theme:"light",soundOn:!0,musicOn:!0,soundsVolume:.2,musicVolume:.2,playerName:"player"},Re="MEMORY_GAME_SETTINGS",ze="MEMORY_GAME_GAME_DATA",We="MEMORY_GAME_STATISTICS_GAME_DATA",Ye=function(){function e(){Object(l.a)(this,e),this.settingsObj=Ge;var t=this.loadSettings();t&&(this.settingsObj=Object(o.a)({},t))}return Object(d.a)(e,[{key:"settings",get:function(){return this.settingsObj}},{key:"updateSettings",value:function(e){e&&(this.saveSettings(e),this.settingsObj=Object(o.a)({},e))}},{key:"soundsToggle",value:function(e){var t=Object(o.a)(Object(o.a)({},this.settingsObj),{},{soundOn:e});this.saveSettings(Object(o.a)({},t)),this.settingsObj=Object(o.a)({},t)}},{key:"musicToggle",value:function(e){var t=Object(o.a)(Object(o.a)({},this.settingsObj),{},{soundOn:e});this.saveSettings(Object(o.a)({},t)),this.settingsObj=Object(o.a)({},t)}},{key:"saveGame",value:function(e){localStorage.setItem(ze,JSON.stringify(e))}},{key:"loadGame",value:function(){var e=localStorage.getItem(ze);return e?JSON.parse(e):null}},{key:"onWin",value:function(e){this.clearSavedGame();var t=Object(o.a)(Object(o.a)({},e),{},{createAt:(new Date).toISOString(),playerName:this.settings.playerName});this.addDataToStatistics(t),this.addDataToDataBase(t)}},{key:"getStatisticsData",value:function(){var e=localStorage.getItem(We);return e?JSON.parse(e):null}},{key:"getTopData",value:function(){var e=Object(Ee.a)(De.a.mark((function e(){var t,a;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/top/",{method:"GET"});case 2:return t=e.sent,a=t.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadSettings",value:function(){var e=localStorage.getItem(Re);return e?JSON.parse(e):null}},{key:"saveSettings",value:function(e){localStorage.setItem(Re,JSON.stringify(e))}},{key:"clearSavedGame",value:function(){localStorage.removeItem(ze)}},{key:"addDataToStatistics",value:function(e){var t;try{if(!(t=JSON.parse(localStorage.getItem(We))))throw Error()}catch(a){t=[]}t.push(e),localStorage.setItem(We,JSON.stringify(t))}},{key:"addDataToDataBase",value:function(){var e=Object(Ee.a)(De.a.mark((function e(t){return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/top/add",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:if(e.sent.ok){e.next=6;break}throw Error("Server Error");case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ve=a.p+"static/media/music.7c6d72bd.mp3",Je=a.p+"static/media/music.b541995b.svg",Ke=a.p+"static/media/sounds.ce4378f6.svg",Le=a(203);function Ue(e){var t=e.soundsIcon,a=e.soundsOn,s=e.musicIcon,i=e.musicOn,c=e.soundsToggle,n=e.musicToggle;return Object(E.jsxs)("div",{className:"game-controls",children:[Object(E.jsx)(Le.a,{title:"Sounds ON / OFF",children:Object(E.jsx)("button",{className:"game-controls__button ".concat(a?"":"game-controls__button_mute"),onClick:c,children:Object(E.jsx)("img",{src:t,alt:"Sound ON / OFF"})})}),Object(E.jsx)(Le.a,{title:"Music ON / OFF",children:Object(E.jsx)("button",{className:"game-controls__button ".concat(i?"":"game-controls__button_mute"),onClick:n,children:Object(E.jsx)("img",{src:s,alt:"Music ON / OFF"})})})]})}var Be=a(190),qe=a(137),Qe=a(198),Xe=Object(xe.a)((function(e){return Object(ce.a)({root:{width:"100%",maxWidth:500,backgroundColor:e.palette.background.paper,margin:"0 auto",marginTop:"70px",boxShadow:"0 0 5px rgb(0, 0, 0, 0.7)",borderRadius:"5px",color:"#000"}})}));function Ze(e){return Object(E.jsx)(qe.a,Object(o.a)({button:!0,component:"a"},e))}function $e(e){var t=Xe(),a=e.resumeHandler,s=e.isPaused,i=e.navigationLinkHandler;return Object(E.jsxs)("div",{className:t.root,children:[Object(E.jsx)("h1",{children:"Menu"}),Object(E.jsxs)(Be.a,{component:"nav","aria-label":"secondary mailbox folders",children:[s&&Object(E.jsx)(qe.a,{button:!0,onClick:a,children:Object(E.jsx)(Qe.a,{primary:"Resume"})}),f.map((function(e){var t=e.button,a=e.path;return Object(E.jsx)(Ze,{href:a,onClick:function(e){return i(e,a,t)},children:Object(E.jsx)(Qe.a,{primary:t})},a)}))]})]})}var et=a(204),tt=a(199),at=a(40);function st(e){var t=Object(h.f)(),a=e.location.pathname;return Object(E.jsx)("div",{className:"breadcrumbs-wrapper",children:Object(E.jsxs)(et.a,{"aria-label":"breadcrumb",children:[Object(E.jsx)(tt.a,{color:"inherit",onClick:function(){return t.push("/")},className:"breadcrumb-link",children:"Menu"}),Object(E.jsx)(at.a,{color:"textPrimary",className:"breadcrumb-page",children:a.split("/")[1]})]})})}var it=Object(xe.a)({table:{minWidth:375}});function ct(e){var t=it(),a=Object(i.useState)(),s=Object(z.a)(a,2),c=s[0],n=s[1];return Object(i.useEffect)((function(){(function(){var t=Object(Ee.a)(De.a.mark((function t(){var a;return De.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.storageService.getTopData();case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:(a=t.t0)&&n(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.storageService]),Object(E.jsxs)("div",{className:"statistics-wrapper",children:[Object(E.jsx)("h1",{children:"Top 10 victories"}),c&&Object(E.jsx)(Ne.a,{component:Te.a,children:Object(E.jsxs)(Se.a,{className:t.table,"aria-label":"simple table",children:[Object(E.jsx)(ke.a,{children:Object(E.jsxs)(we.a,{children:[Object(E.jsx)(_e.a,{children:"\u2116"}),Object(E.jsx)(_e.a,{align:"center",children:"Player\xa0Name"}),Object(E.jsx)(_e.a,{align:"center",children:"Score"}),Object(E.jsx)(_e.a,{align:"center",children:"Field\xa0Size"}),Object(E.jsx)(_e.a,{align:"center",children:"Attempts"}),Object(E.jsx)(_e.a,{align:"center",children:"Time\xa0(sec)"}),Object(E.jsx)(_e.a,{align:"center",children:"Date"})]})}),Object(E.jsx)(ye.a,{children:c.map((function(e,t){return Object(E.jsxs)(we.a,{children:[Object(E.jsx)(_e.a,{component:"th",scope:"row",align:"left",children:Object(E.jsx)("b",{children:t+1})}),Object(E.jsx)(_e.a,{align:"center",children:e.playerName}),Object(E.jsx)(_e.a,{align:"center",children:e.score}),Object(E.jsx)(_e.a,{align:"center",children:e.fieldSize}),Object(E.jsx)(_e.a,{align:"center",children:e.attempts}),Object(E.jsx)(_e.a,{align:"center",children:e.time}),Object(E.jsx)(_e.a,{align:"center",children:Me()(e.createAt).format("MMMM Do YYYY, HH:mm:ss")})]},O()())}))})]})})]})}var nt=function(e){Object(u.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).state=void 0,s.history=void 0,s.storageService=void 0,s.settings=void 0,s.musicPlayer=void 0,s.wrapperRef=void 0,s.pausedHandler=function(e){s.history.push("/"),s.setState({isPaused:!0,cards:e.cards,time:e.time,attempts:e.attempts,settings:e.settings})},s.resumeHandler=function(){s.setState({isResumed:!0}),s.history.push("/game")},s.navigationLinkHandler=function(e,t,a){if(e.preventDefault(),"New Game"===a){var i=s.storageService.settings;s.setState({cards:x(i),isResumed:!1,settings:i,time:0,attempts:0})}s.history.push(t)},s.updateSettingsHandler=function(e){s.storageService.updateSettings(e),s.setState({theme:e.theme}),s.musicPlayer.volume=e.musicVolume},s.musicToggle=function(){s.state.musicOn?s.musicPlayer.pause():s.musicPlayer.play(),s.storageService.musicToggle(!s.state.musicOn),s.setState({musicOn:!s.state.musicOn})},s.soundsToggle=function(){s.storageService.soundsToggle(!s.state.soundsOn),s.setState({soundsOn:!s.state.soundsOn})},s.soundsOn=function(){s.state.soundsOn||(s.storageService.soundsToggle(!0),s.setState({soundsOn:!0}))},s.soundsOff=function(){s.state.soundsOn&&(s.storageService.soundsToggle(!1),s.setState({soundsOn:!1}))},s.musicOn=function(){s.state.musicOn||(s.musicPlayer.play(),s.storageService.musicToggle(!0),s.setState({musicOn:!0}))},s.musicOff=function(){s.state.musicOn&&(s.musicPlayer.pause(),s.storageService.musicToggle(!1),s.setState({musicOn:!1}))},s.changeTheme=function(){var e="dark"===s.state.theme?"light":"dark";s.updateSettingsHandler(Object(o.a)(Object(o.a)({},s.settings),{},{theme:e}))},s.storageService=new Ye,s.settings=s.storageService.settings,s.history=s.props.history,s.state={cards:[],firstCard:null,secondCard:null,settings:s.settings,isPaused:!1,isResumed:!1,time:0,attempts:0,theme:s.settings.theme,musicOn:!1,soundsOn:s.settings.soundOn},s.musicPlayer=new Audio(Ve),s.musicPlayer.loop=!0,s.musicPlayer.volume=s.settings.musicVolume,s}return Object(d.a)(a,[{key:"hotKeysListener",value:function(e){switch(e.code){case"KeyA":return void this.soundsOn();case"KeyS":return void this.soundsOff();case"KeyD":return void this.musicOn();case"KeyF":return void this.musicOff();case"KeyT":return void this.changeTheme();default:return}}},{key:"componentDidMount",value:function(){this.wrapperRef&&window.addEventListener("keydown",this.hotKeysListener.bind(this))}},{key:"render",value:function(){var e=this,t=this.props.location;return Object(E.jsxs)("div",{className:"wrapper ".concat("dark"===this.state.theme?"wrapper_theme_dark":""),ref:function(t){return e.wrapperRef=t},children:[Object(E.jsx)(Ae,{children:Object(E.jsx)(Ue,{soundsIcon:Ke,musicIcon:Je,soundsOn:this.state.soundsOn,musicOn:this.state.musicOn,soundsToggle:this.soundsToggle,musicToggle:this.musicToggle})}),Object(E.jsxs)("div",{className:"page",children:["/"!==t.pathname&&"/game"!==t.pathname&&Object(E.jsx)(st,{location:t}),Object(E.jsxs)(h.c,{children:[Object(E.jsx)(h.a,{exact:!0,path:"/",children:Object(E.jsx)($e,{isPaused:this.state.isPaused,resumeHandler:this.resumeHandler,navigationLinkHandler:this.navigationLinkHandler})}),Object(E.jsx)(h.a,{exact:!0,path:"/game",children:Object(E.jsx)(ae,Object(o.a)({},Object(o.a)(Object(o.a)({},this.state),{},{paused:this.pausedHandler,storageService:this.storageService})))}),Object(E.jsx)(h.a,{exact:!0,path:"/autoplay",children:Object(E.jsx)(se,{storageService:this.storageService})}),Object(E.jsx)(h.a,{exact:!0,path:"/settings",children:Object(E.jsx)(ve,{storageService:this.storageService,updateSettings:this.updateSettingsHandler})}),Object(E.jsx)(h.a,{exact:!0,path:"/statistics",children:Object(E.jsx)(Pe,{storageService:this.storageService})}),Object(E.jsx)(h.a,{exact:!0,path:"/top",children:Object(E.jsx)(ct,{storageService:this.storageService})})]})]}),Object(E.jsx)(Ie,{logo:m})]})}}]),a}(c.a.Component),rt=Object(h.g)(nt),ot=a(32);var lt=function(e){return Object(E.jsx)("div",{className:"App",children:Object(E.jsx)(ot.a,{children:Object(E.jsx)(h.c,{children:Object(E.jsx)(rt,{})})})})};r.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(lt,{})}),document.getElementById("root"))}},[[136,1,2]]]);
//# sourceMappingURL=main.ac491d83.chunk.js.map